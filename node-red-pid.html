<!--
  Declare the Node-RED node
  The node has five configuration properties:
    - name: The name of the node, which appears in the node label
    - target: The target value for the PID controller
    - Kp: The proportional gain constant for the PID controller
    - Ki: The integral gain constant for the PID controller
    - Kd: The derivative gain constant for the PID controller
    - minOutput: The minimum output value allowed
    - maxOutput: The maximum output value allowed
-->
<script type="text/javascript">
  RED.nodes.registerType("node-red-pid", {
    category: "function",
    color: "#a6bbcf",
    defaults: {
      name: { value: "" },
      target: { value: 0, validate: RED.validators.number() },
      Kp: { value: 0, validate: RED.validators.number() },
      Ki: { value: 0, validate: RED.validators.number() },
      Kd: { value: 0, validate: RED.validators.number() },
      minOutput: { value: 0, validate: RED.validators.number() },
      maxOutput: { value: 0, validate: RED.validators.number() },
    },
    inputs: 1,
    outputs: 1,
    label: function () {
      return this.name || "node-red-pid";
    },
  });
</script>

<!--
  Declare the Node-RED node editor
  The node editor has five input fields for the configuration properties:
    - name: The name of the node, which appears in the node label
    - target: The target value for the PID controller
    - Kp: The proportional gain constant for the PID controller
    - Ki: The integral gain constant for the PID controller
    - Kd: The derivative gain constant for the PID controller
    - minOutput: The minimum output value allowed
    - maxOutput: The maximum output value allowed
-->
<script type="text/html" data-template-name="node-red-pid">
  <div class="form-row">
    <label for="node-input-name">Name</label>
    <input type="text" id="node-input-name" placeholder="PID" />
  </div>
  <div class="form-row">
    <label for="node-input-target">Target</label>
    <input type="number" id="node-input-target" placeholder="0" />
  </div>
  <div class="form-row">
    <label for="node-input-Kp">Kp</label>
    <input type="number" id="node-input-Kp" placeholder="0" />
  </div>
  <div class="form-row">
    <label for="node-input-Ki">Ki</label>
    <input type="number" id="node-input-Ki" placeholder="0" />
  </div>
  <div class="form-row">
    <label for="node-input-Kd">Kd</label>
    <input type="number" id="node-input-Kd" placeholder="0" />
  </div>
  <div class="form-row">
    <label for="node-input-minOutput">minOutput</label>
    <input type="number" id="node-input-minOutput" placeholder="0" />
  </div>
  <div class="form-row">
    <label for="node-input-maxOutput">maxOutput</label>
    <input type="number" id="node-input-maxOutput" placeholder="0" />
  </div>
</script>
